<table class="WCMsubheader">
  <tr>
    <td class="WCMsubheadername" colspan="5"><%= mytext.display("name") %></td>
    <td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td>
<% if (! mysession.get("administrator").equals("")) { %>
<% if (! adminuser.permission(db, "forbid", "webadmin_browseedit")) { %><td class="WCMsubheadericon" rowspan="2"><a href="/index.jsp?mode=admin&menu=none&stylesheet=&template=&version=&"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_browse_edit.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_structure")) { %><td class="WCMsubheadericon" rowspan="2"><a href="/<%= mytext.display("adminpath") %>/content/structure.jsp?menu=structure"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_structure.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_content")) { %><td class="WCMsubheadericon" rowspan="2"><a href="/<%= mytext.display("adminpath") %>/index.content.jsp?menu=content"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_content.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_library")) { %><td class="WCMsubheadericon" rowspan="2"><a href="/<%= mytext.display("adminpath") %>/index.library.jsp?menu=library"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_library.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_ecommerce")) { %><% if (License.valid(db, myconfig, "ecommerce")) { %><td class="WCMsubheadericon" rowspan="2"><a href="/<%= mytext.display("adminpath") %>/index.ecommerce.jsp?menu=ecommerce"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_ecommerce.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_databases")) { %><% if (License.valid(db, myconfig, "databases")) { %><td class="WCMsubheadericon" rowspan="2"><a href="/<%= mytext.display("adminpath") %>/index.databases.jsp?menu=databases"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_databases.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_experience")) { %><% if (License.valid(db, myconfig, "experience")) { %><td class="WCMsubheadericon" rowspan="2"><a href="/<%= mytext.display("adminpath") %>/index.experience.jsp?menu=experience"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_experience.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_user")) { %><% if (myconfig.get(db, "use_userdatabase").equals("yes")) { %><td class="WCMsubheadericon" rowspan="2"><a href="/<%= mytext.display("adminpath") %>/index.users.jsp?menu=user"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_users.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_statistics")) { %><% if (License.valid(db, myconfig, "statistics")) { %><td class="WCMsubheadericon" rowspan="2"><a href="/<%= mytext.display("adminpath") %>/index.statistics.jsp?menu=statistics"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_statistics.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %><% } %>
<% for (int i=0; i<module.size(); i++) { %><% if ((moduleToolbarTitle.size()>i) && (moduleToolbarLink.size()>i) && (! moduleToolbarTitle.get(i).equals(""))) { %><td class="WCMsubheadericon" rowspan="2"><a href="<%= moduleToolbarLink.get(i) %>"><img alt=" " src="<%= moduleToolbarImage.get(i) %>"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %><% } %>
<% if ((myconfig.get(db, "superadmin").equals(mysession.get("username"))) || (myconfig.get(db, "superadmin").equals(""))) { %><td class="WCMsubheadericon" rowspan="2"><a href="/<%= mytext.display("adminpath") %>/index.config.jsp?menu=config"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_configuration.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %>
<% if ((License.valid(db, myconfig, "hosting") || (myconfig.get(db, "hosting_license").equals("TRIAL"))) && ((myconfig.get(db, "superadmin").equals(mysession.get("username"))) || (myconfig.get(db, "superadmin").equals("")))) { %><td class="WCMsubheadericon" rowspan="2"><a href="/<%= mytext.display("adminpath") %>/index.hosting.jsp?menu=clients"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_clients.gif"></a></td><td class="WCMsubheadericonspacer" rowspan="2">&nbsp;</td><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_updates")) { %><td class="WCMsubheadericon" rowspan="2"><a href="<%= mytext.display("updateurl") %>"><img alt=" " src="/<%= mytext.display("adminpath") %>/toolbar_updates.gif"></a></td><% } %>
<% } %>
    <td class="WCMsubheadericonpadding" rowspan="2">&nbsp;</td>
  </tr>
  <tr>
    <td class="WCMsubheaderminiiconspacer">&nbsp;</td>
    <td class="WCMsubheaderminiicon"><a href="/<%= mytext.display("adminpath") %>/index.jsp"><img alt=" " src="/<%= mytext.display("adminpath") %>/home.gif"></a></td>
    <td class="WCMsubheaderminiicon"><a href="<%= myrequest.getProtocol() + myrequest.getServerName() + myrequest.getServerPort() + myrequest.getRequestURI() + "?" + URLEncoder.encode(myrequest.getQueryString()) %>#" onclick="window.open('/<%= mytext.display("adminpath") %>/help/index.jsp', 'help_window', 'scrollbars=yes,width=640,height=550,resizable=yes,status=yes', true);"><img alt=" " src="/<%= mytext.display("adminpath") %>/help.gif"></a></td>
    <td class="WCMsubheaderminiicon"><a href="/<%= mytext.display("adminpath") %>/logout.jsp"><img alt=" " src="/<%= mytext.display("adminpath") %>/logout.gif"></a></td>
    <td class="WCMsubheaderminiiconspacer">&nbsp;</td>
  </tr>
  <tr>
    <td class="WCMsubheaderminiiconspacer">&nbsp;</td>
    <td class="WCMsubheadermininame WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/index.jsp"><%= mytext.display("toolbar.home") %></a></td>
    <td class="WCMsubheadermininame WCMtoolbar"><a href="<%= myrequest.getProtocol() + myrequest.getServerName() + myrequest.getServerPort() + myrequest.getRequestURI() + "?" + URLEncoder.encode(myrequest.getQueryString()) %>#" onclick="window.open('/<%= mytext.display("adminpath") %>/help/index.jsp', 'help_window', 'scrollbars=yes,width=640,height=550,resizable=yes,status=yes', true);"><%= mytext.display("toolbar.help") %></a></td>
    <td class="WCMsubheadermininame WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/logout.jsp"><%= mytext.display("toolbar.logout") %></a></td>
    <td class="WCMsubheaderminiiconspacer">&nbsp;</td>
    <td class="WCMsubheaderminiiconspacer">&nbsp;</td>
<% if (! mysession.get("administrator").equals("")) { %>
<% if (! adminuser.permission(db, "forbid", "webadmin_browseedit")) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/index.jsp?mode=admin&menu=none&stylesheet=&template=&version=&"><%= mytext.display("toolbar.browseedit") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_structure")) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/content/structure.jsp?menu=structure"><%= mytext.display("toolbar.structure") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_content")) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/index.content.jsp?menu=content"><%= mytext.display("toolbar.content") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_library")) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/index.library.jsp?menu=library"><%= mytext.display("toolbar.media") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_ecommerce")) { %><% if (License.valid(db, myconfig, "ecommerce")) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/index.ecommerce.jsp?menu=ecommerce"><%= mytext.display("toolbar.products") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_databases")) { %><% if (License.valid(db, myconfig, "databases")) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/index.databases.jsp?menu=databases"><%= mytext.display("toolbar.databases") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_experience")) { %><% if (License.valid(db, myconfig, "experience")) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/index.experience.jsp?menu=experience"><%= mytext.display("toolbar.experience") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_user")) { %><% if (myconfig.get(db, "use_userdatabase").equals("yes")) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/index.users.jsp?menu=user"><%= mytext.display("toolbar.users") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_statistics")) { %><% if (License.valid(db, myconfig, "statistics")) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/index.statistics.jsp?menu=statistics"><%= mytext.display("toolbar.statistics") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %><% } %>
<% for (int i=0; i<module.size(); i++) { %><% if ((moduleToolbarTitle.size()>i) && (moduleToolbarLink.size()>i) && (! moduleToolbarTitle.get(i).equals(""))) { %><td class="WCMsubheadersection WCMtoolbar"><a href="<%= moduleToolbarLink.get(i) %>"><%= moduleToolbarTitle.get(i) %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %><% } %>
<% if ((myconfig.get(db, "superadmin").equals(mysession.get("username"))) || (myconfig.get(db, "superadmin").equals(""))) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/index.config.jsp?menu=config"><%= mytext.display("toolbar.configuration") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %>
<% if ((License.valid(db, myconfig, "hosting") || (myconfig.get(db, "hosting_license").equals("TRIAL"))) && ((myconfig.get(db, "superadmin").equals(mysession.get("username"))) || (myconfig.get(db, "superadmin").equals("")))) { %><td class="WCMsubheadersection WCMtoolbar"><a href="/<%= mytext.display("adminpath") %>/index.hosting.jsp?menu=clients"><%= mytext.display("toolbar.hosting") %></a></td><td class="WCMsubheadersectionspacer">&nbsp;</td><% } %>
<% if (! adminuser.permission(db, "forbid", "webadmin_updates")) { %><td class="WCMsubheadersection WCMtoolbar"><a href="<%= mytext.display("updateurl") %>"><%= mytext.display("toolbar.updates") %></a></td><% } %>
<% } %>
    <td>&nbsp;</td>
  </tr>
</table>
