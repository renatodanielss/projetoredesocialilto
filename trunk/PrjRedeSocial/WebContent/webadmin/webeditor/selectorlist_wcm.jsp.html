<html>
<head>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Generator" content="Asbru Web Content Management System">
<meta http-equiv="Copyright" content="(C) 2002-2014 - Asbru Ltd. - www.asbrusoft.com">
<script type="text/javascript" src="webeditor.properties.js"></script>
<title>Asbru Web Content Editor</title>
<link rel="stylesheet" href="dtree.css" type="text/css">
<script type="text/javascript" src="dtree.js"></script>
<link rel="stylesheet" type="text/css" href="webeditor.css">
<script type="text/javascript">

document.title = HtmlDecode(Text('selectorlist_title'));

function requestParameter(name) {
	var value = "";
	if (start = request.indexOf("?"+name+"=")+1) {
		value = request.substring(start+name.length+1);
	} else if (start = request.indexOf("&"+name+"=")+1) {
		value = request.substring(start+name.length+1);
	}
	if (value.indexOf("&")+1) {
		value = value.substring(0, value.indexOf("&"));
	}
	value = decodeURI(value);
	return value;
}

var request = "" + window.location;
editor = requestParameter("editor");
if ((typeof(webeditor) == "undefined") && editor && window.parent.opener && window.parent.opener[editor]) webeditor = window.parent.opener[editor];
if ((typeof(webeditor) == "undefined") && editor && window.opener && window.opener[editor]) webeditor = window.opener[editor];
if ((typeof(webeditor) == "undefined") && editor && top.opener && top.opener[editor]) webeditor = top.opener[editor];
if ((typeof(webeditor) == "undefined") && editor && top && top[editor]) webeditor = top[editor];
if ((typeof(webeditor) == "undefined") && editor && parent && parent[editor]) webeditor = parent[editor];
request_id = requestParameter("id");
request_href = requestParameter("href");
request_title = requestParameter("title");
request_section = requestParameter("section");
request_category = requestParameter("category");

function openit(title, href, id) {
	if (href != "") {
		parent.tag["id"] = id;
		parent.tag["link"] = title;
		parent.tag["href"] = href;
		if (matches = href.match(/id=(\d+)\D*$/)) {
//			id = matches[1];
		} else if (matches = href.match(/add=(\d+)\D*$/)) {
//			id = matches[1];
		} else {
//			id = '';
		}
if (! id) id = '';
<% if ((adminuser.getHardcoreUpload().equals("yes")) || ((adminuser.getHardcoreUpload().equals("")) && (myconfig.get(db, "hardcore_upload").equals("yes")))) { %>
		if ((request_section == "Templates") || (request_section == "Style Sheets") || (request_section == "Scripts") || (request_section == "Pages") || (request_section == "Elements") || (request_section == "Images") || (request_section == "Files") || (request_section == "Links") || (request_section == "Products")) {
			if (document.getElementById) {
				if (document.getElementById('create_file')) document.getElementById('create_file').href = 'selectoruploader_wcm.jsp?id='+id+'&action=Create&section=' + escape(request_section) + '&category=' + escape(request_category) + '&title=' + encodeURIComponent(title) + '&' + request_category + '=' + escape(request_title) + '&editor=' + editor;
			} else if (document.all) {
				if (document.all['create_file']) document.all['create_file'].href = 'selectoruploader_wcm.jsp?id='+id+'&action=Create&section=' + escape(request_section) + '&category=' + escape(request_category) + '&title=' + encodeURIComponent(title) + '&' + request_category + '=' + escape(request_title) + '&editor=' + editor;
			}
		}
		if ((request_section == "Templates") || (request_section == "Style Sheets") || (request_section == "Scripts") || (request_section == "Pages") || (request_section == "Elements") || (request_section == "Images") || (request_section == "Files") || (request_section == "Links") || (request_section == "Products")) {
			if (document.getElementById) {
				if (document.getElementById('update_file')) document.getElementById('update_file').href = 'selectoruploader_wcm.jsp?id='+id+'&action=Update&section=' + escape(request_section) + '&category=' + escape(request_category) + '&title=' + encodeURIComponent(title) + '&' + request_category + '=' + escape(request_title) + '&editor=' + editor;
			} else if (document.all) {
				if (document.all['update_file']) document.all['update_file'].href = 'selectoruploader_wcm.jsp?id='+id+'&action=Update&section=' + escape(request_section) + '&category=' + escape(request_category) + '&title=' + encodeURIComponent(title) + '&' + request_category + '=' + escape(request_title) + '&editor=' + editor;
			}
		}
		if ((request_section == "Templates") || (request_section == "Style Sheets") || (request_section == "Scripts") || (request_section == "Pages") || (request_section == "Elements") || (request_section == "Images") || (request_section == "Files") || (request_section == "Links") || (request_section == "Products")) {
			if (document.getElementById) {
				if (document.getElementById('delete_file')) document.getElementById('delete_file').href = 'selectoruploader_wcm.jsp?id='+id+'&action=Delete&section=' + escape(request_section) + '&category=' + escape(request_category) + '&title=' + encodeURIComponent(title) + '&' + request_category + '=' + escape(request_title) + '&editor=' + editor + '&href='+escape(href);
			} else if (document.all) {
				if (document.all['delete_file']) document.all['delete_file'].href = 'selectoruploader_wcm.jsp?id='+id+'&action=Delete&section=' + escape(request_section) + '&category=' + escape(request_category) + '&title=' + encodeURIComponent(title) + '&' + request_category + '=' + escape(request_title) + '&editor=' + editor + '&href='+escape(href);
			}
		}
<% } %>
		if (parent.selectorpreview && parent.selectorpreview.location) parent.selectorpreview.location.href = 'selectorpreview_wcm.jsp?editor=' + editor + '&title=' + encodeURIComponent(title) + '&href='+escape(href) + '&id='+escape(id);
		if (parent.selectorinsert && parent.selectorinsert.location) parent.selectorinsert.location.href = 'selectorinsert_wcm.jsp?editor=' + editor + '&title=' + encodeURIComponent(title) + '&href='+escape(href) + '&id='+escape(id);
	}
}

function initMenu() {
	if (request_title != "") {
		var menuname = 'selectorlistMenuContainer';
		var seq = '';
		var selected = '';
		var submenus = document.getElementById('dtreelinks').innerHTML;
		var t = document.getElementById(menuname+""+seq).innerHTML;
		document.getElementById(menuname+""+seq).innerHTML = t + submenus;
	}
}

</script>
</head>
<body onload="initMenu(); parent.selectorlist_ready();">
<div class="dtree">
<% if ((adminuser.getHardcoreUpload().equals("yes")) || ((adminuser.getHardcoreUpload().equals("")) && (myconfig.get(db, "hardcore_upload").equals("yes")))) { %>
<script type="text/javascript">
	if ((request_title != "") && ((request_section == "Templates") || (request_section == "Style Sheets") || (request_section == "Scripts") || (request_section == "Pages") || (request_section == "Elements") || (request_section == "Images") || (request_section == "Files") || (request_section == "Links") || (request_section == "Products"))) {
		document.writeln('<a id="create_file" target="selectorinsert" href="selectoruploader_wcm.jsp?action=Create&section=' + request_section + '&category=' + escape(request_category) + '&' + request_category + '=' + escape(request_title) + '&editor=' + editor + '"><img src="dtree/page.gif">' + Text('selectorlist_create') + '</a>');
		if ((request_section == "Templates") || (request_section == "Style Sheets") || (request_section == "Scripts") || (request_section == "Pages") || (request_section == "Elements") || (request_section == "Images") || (request_section == "Files") || (request_section == "Links") || (request_section == "Products")) {
			document.writeln('<a id="update_file" target="selectorinsert" href="javascript:alert(\'' + HtmlDecode(Text('selectorlist_updateitem')) + '\');"><img src="dtree/page.gif">' + Text('selectorlist_update') + '</a>');
		}
		document.writeln('<a id="delete_file" target="selectorinsert" href="javascript:alert(\'' + HtmlDecode(Text('selectorlist_deleteitem')) + '\');"><img src="dtree/trash.gif">' + Text('selectorlist_delete') + '</a>');
	} else {
		document.writeln('&nbsp;');
	}
</script>
<% } else { %>
	&nbsp;
<% } %>
</div>
<hr>
<div class="dtree" id="selectorlistMenuContainer">
	<script type="text/javascript">
		<!--
		menuitem = 0;
		<% int menuitem = 0; %>
		selectorlistMenu = new dTree('selectorlistMenu');
		menuitem_links = menuitem;
if ((request_section != "") && (request_title != "")) {
		selectorlistMenu.add(menuitem++,-1,request_title,'','','',true,'imgfolder.gif');
		<% menuitem++; %>

<% if (myrequest.getParameter("section").equals("Special")) { %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_guestbook'),'javascript:openit(\'' + Text('selectorlist_guestbook') + '\',\'/guestbook.jsp\')','','',true,'');
		<% menuitem++; %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_thisitem'),'javascript:openit(\'' + Text('selectorlist_thisitem') + '\',\'/@@@class@@@.jsp?id=@@@id@@@\')','','',true,'');
		<% menuitem++; %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_login'),'javascript:openit(\'' + Text('selectorlist_login') + '\',\'/login.jsp\')','','',true,'');
		<% menuitem++; %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_logout'),'javascript:openit(\'' + Text('selectorlist_logout') + '\',\'/logout.jsp\')','','',true,'');
		<% menuitem++; %>
<% } %>

<% if (License.valid(db, myconfig, "ecommerce")) { %>
<% if (myrequest.getParameter("section").equals("E-Commerce")) { %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_shopcart_add'),'javascript:openit(\'' + Text('selectorlist_shopcart_add') + '\',\'/shopcart.jsp?add=@@@id@@@\')','','',true,'');
		<% menuitem++; %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_shopcart'),'javascript:openit(\'' + Text('selectorlist_shopcart') + '\',\'/shopcart.jsp\')','','',true,'');
		<% menuitem++; %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_shopcart_checkout'),'javascript:openit(\'' + Text('selectorlist_shopcart_checkout') + '\',\'/shopcart.jsp?checkout\')','','',true,'');
		<% menuitem++; %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_shopcart_paypal'),'javascript:openit(\'' + Text('selectorlist_shopcart_paypal') + '\',\'http://www.paypal.com/xclick/business=@@@paypal_business@@@&item_name=@@@paypal_item_name@@@&return=@@@paypal_return@@@&cancel_return=@@@paypal_cancel_return@@@&no_note=1&currency_code=@@@paypal_currency@@@&amount=@@@total@@@\')','','',true,'');
		<% menuitem++; %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_shopcart_confirm'),'javascript:openit(\'' + Text('selectorlist_shopcart_confirm') + '\',\'/shopcart.jsp?confirm\')','','',true,'');
		<% menuitem++; %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_shopcart_complete'),'javascript:openit(\'' + Text('selectorlist_shopcart_complete') + '\',\'/shopcart.jsp?complete\')','','',true,'');
		<% menuitem++; %>
<% } %>
<% } %>

<% if (myconfig.get(db, "use_versions").equals("yes")) { %>
<% if (myrequest.getParameter("section").equals("Versions")) { %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_defaultversion'),'javascript:openit(\'' + Text('selectorlist_defaultversion') + '\',\'?id=@@@id@@@&version=\')','','',true,'');
<%
	while (versions.records(db, "")) {
%>
		selectorlistMenu.add(menuitem++,menuitem_links,'<%= versions.getVersion().replaceAll("'", "\\\\\\\\\\\\'") %>','javascript:openit(\'<%= versions.getVersion() %>\',\'?id=@@@id@@@&version=<%= URLEncoder.encode(versions.getVersion()) %>\')','','',true,'');
<%
	}
%>
<% } %>
<% } %>

<% if (myconfig.get(db, "use_contentrelations").equals("yes")) { %>
<% if (myrequest.getParameter("section").equals("Page Relations")) { %>
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_page_top'),'javascript:openit(\'' + Text('selectorlist_page_top') + '\',\'/page.jsp?id=@@@page_top@@@\')','','',true,'');
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_page_up'),'javascript:openit(\'' + Text('selectorlist_page_up') + '\',\'/page.jsp?id=@@@page_up@@@\')','','',true,'');
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_page_first'),'javascript:openit(\'' + Text('selectorlist_page_first') + '\',\'/page.jsp?id=@@@page_first@@@\')','','',true,'');
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_page_last'),'javascript:openit(\'' + Text('selectorlist_page_last') + '\',\'/page.jsp?id=@@@page_last@@@\')','','',true,'');
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_page_previous'),'javascript:openit(\'' + Text('selectorlist_page_previous') + '\',\'/page.jsp?id=@@@page_previous@@@\')','','',true,'');
		selectorlistMenu.add(menuitem++,menuitem_links,Text('selectorlist_page_next'),'javascript:openit(\'' + Text('selectorlist_page_next') + '\',\'/page.jsp?id=@@@page_next@@@\')','','',true,'');
<% } %>
<% } %>

}
		selectorlistMenu.draw();
		if (parent.tag["href"]) selectorlistMenu.selectURLsubstring(parent.tag["href"]);
		//-->
	</script>
</div>

<div id="dtreelinks" style="display: none">
<% StringBuffer output = new StringBuffer(); %>
<% if (License.valid(db, myconfig, "ecommerce")) { %>
<% if (myrequest.getParameter("section").equals("Products")) { %>
<%
	while (products.records(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig, "")) {
		String id = products.getId();
		String title = products.getTitle();
		String version = products.getVersion();
		String device = products.getDevice();
		String usersegment = products.getUsersegment();
		String usertest = products.getUsertest();
		String url = "";
		if (! products.getServerFilename().equals("")) {
			url = "" + myconfig.get(db, "URLrootpath") + products.getServerFilename();
		} else {
			url = "/product.jsp?id=" + products.getId();
		}
		if (! version.equals("")) {
			version = " (" + version + ")";
		}
		if (! device.equals("")) {
			version += " (" + device + ")";
		}
		if (! usersegment.equals("")) {
			version += " (" + usersegment + ")";
		}
		if (! usertest.equals("")) {
			version += " (" + usertest + ")";
		}
		if (! id.equals("")) {
			version += " (" + id + ")";
		}
		String classname = "node";
//		if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup) + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup).replaceAll("\\+", " ") + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + imagegroup + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		}
		if (! myconfig.get(db, "hide_accessrestricted_content_items").equals("yes")) {
			products.setUser(true);
		}
		if ((myconfig.get(db, "hide_accessrestricted_menu_items").equals("yes")) && (myconfig.get(db, "hide_accessrestricted_menu_items_content").equals("yes"))) {
			if (! products.getContentGroup().equals("")) {
				Productgroup mycontentgroup = new Productgroup();
				mycontentgroup.readProductgroup(db, products.getContentGroup());
				if (! mycontentgroup.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					products.setUser(false);
				}
			}
			if (! products.getContentType().equals("")) {
				Producttype mycontenttype = new Producttype();
				mycontenttype.readProducttype(db, products.getContentType());
				if (! mycontenttype.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					products.setUser(false);
				}
			}
		}
		if (mysession.get("username").equals(myconfig.get(db, "superadmin"))) {
			products.setUser(true);
		}
		if (products.getUser()) {
			output.append("<nobr><img alt=\"\" src=\"/" + mytext.display("adminpath") + "/dtree/join.gif\"><a href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\"><img alt=\"\" id=\"selectorlistMenuIcon" + menuitem + "\" src=\"/" + mytext.display("adminpath") + "/dtree/page.gif\"></a><a id=\"selectorlistMenuLink" + menuitem + "\" class=\"" + classname + "\" href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\">" + title + version + "</a><br></nobr>" + "\r\n");
			%><%= "<script>selectorlistMenu.pid[" + menuitem + "] = menuitem_links;</script>" + "\r\n" %><%
			menuitem++;
		}
	}
%>
<% } %>
<% } %>

<% if (myrequest.getParameter("section").equals("Templates")) { %>
<%
	while (templates.records(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig, "")) {
		String id = templates.getId();
		String title = templates.getTitle();
		String version = templates.getVersion();
		String device = templates.getDevice();
		String usersegment = templates.getUsersegment();
		String usertest = templates.getUsertest();
		String url = "";
		if (! templates.getServerFilename().equals("")) {
			url = "" + myconfig.get(db, "URLrootpath") + templates.getServerFilename();
		} else {
			url = "/template.jsp?id=" + templates.getId();
		}
		if (! version.equals("")) {
			version = " (" + version + ")";
		}
		if (! device.equals("")) {
			version += " (" + device + ")";
		}
		if (! usersegment.equals("")) {
			version += " (" + usersegment + ")";
		}
		if (! usertest.equals("")) {
			version += " (" + usertest + ")";
		}
		if (! id.equals("")) {
			version += " (" + id + ")";
		}
		String classname = "node";
//		if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup) + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup).replaceAll("\\+", " ") + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + imagegroup + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		}
		if (! myconfig.get(db, "hide_accessrestricted_content_items").equals("yes")) {
			templates.setUser(true);
		}
		if ((myconfig.get(db, "hide_accessrestricted_menu_items").equals("yes")) && (myconfig.get(db, "hide_accessrestricted_menu_items_content").equals("yes"))) {
			if (! templates.getContentGroup().equals("")) {
				Contentgroup mycontentgroup = new Contentgroup();
				mycontentgroup.readContentgroup(db, templates.getContentGroup());
				if (! mycontentgroup.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					templates.setUser(false);
				}
			}
			if (! templates.getContentType().equals("")) {
				Contenttype mycontenttype = new Contenttype();
				mycontenttype.readContenttype(db, templates.getContentType());
				if (! mycontenttype.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					templates.setUser(false);
				}
			}
		}
		if (mysession.get("username").equals(myconfig.get(db, "superadmin"))) {
			templates.setUser(true);
		}
		if (templates.getUser()) {
			output.append("<nobr><img alt=\"\" src=\"/" + mytext.display("adminpath") + "/dtree/join.gif\"><a href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\"><img alt=\"\" id=\"selectorlistMenuIcon" + menuitem + "\" src=\"/" + mytext.display("adminpath") + "/dtree/page.gif\"></a><a id=\"selectorlistMenuLink" + menuitem + "\" class=\"" + classname + "\" href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\">" + title + version + "</a><br></nobr>" + "\r\n");
			%><%= "<script>selectorlistMenu.pid[" + menuitem + "] = menuitem_links;</script>" + "\r\n" %><%
			menuitem++;
		}
	}
%>
<% } %>

<% if (myrequest.getParameter("section").equals("Style Sheets")) { %>
<%
	while (stylesheets.records(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig, "")) {
		String id = stylesheets.getId();
		String title = stylesheets.getTitle();
		String version = stylesheets.getVersion();
		String device = stylesheets.getDevice();
		String usersegment = stylesheets.getUsersegment();
		String usertest = stylesheets.getUsertest();
		String url = "";
		if (! stylesheets.getServerFilename().equals("")) {
			url = "" + myconfig.get(db, "URLrootpath") + stylesheets.getServerFilename();
		} else {
			url = "/stylesheet.jsp?id=" + stylesheets.getId();
		}
		if (! version.equals("")) {
			version = " (" + version + ")";
		}
		if (! device.equals("")) {
			version += " (" + device + ")";
		}
		if (! usersegment.equals("")) {
			version += " (" + usersegment + ")";
		}
		if (! usertest.equals("")) {
			version += " (" + usertest + ")";
		}
		if (! id.equals("")) {
			version += " (" + id + ")";
		}
		String classname = "node";
//		if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup) + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup).replaceAll("\\+", " ") + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + imagegroup + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		}
		if (! myconfig.get(db, "hide_accessrestricted_content_items").equals("yes")) {
			stylesheets.setUser(true);
		}
		if ((myconfig.get(db, "hide_accessrestricted_menu_items").equals("yes")) && (myconfig.get(db, "hide_accessrestricted_menu_items_content").equals("yes"))) {
			if (! stylesheets.getContentGroup().equals("")) {
				Contentgroup mycontentgroup = new Contentgroup();
				mycontentgroup.readContentgroup(db, stylesheets.getContentGroup());
				if (! mycontentgroup.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					stylesheets.setUser(false);
				}
			}
			if (! stylesheets.getContentType().equals("")) {
				Contenttype mycontenttype = new Contenttype();
				mycontenttype.readContenttype(db, stylesheets.getContentType());
				if (! mycontenttype.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					stylesheets.setUser(false);
				}
			}
		}
		if (mysession.get("username").equals(myconfig.get(db, "superadmin"))) {
			stylesheets.setUser(true);
		}
		if (stylesheets.getUser()) {
			output.append("<nobr><img alt=\"\" src=\"/" + mytext.display("adminpath") + "/dtree/join.gif\"><a href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\"><img alt=\"\" id=\"selectorlistMenuIcon" + menuitem + "\" src=\"/" + mytext.display("adminpath") + "/dtree/page.gif\"></a><a id=\"selectorlistMenuLink" + menuitem + "\" class=\"" + classname + "\" href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\">" + title + version + "</a><br></nobr>" + "\r\n");
			%><%= "<script>selectorlistMenu.pid[" + menuitem + "] = menuitem_links;</script>" + "\r\n" %><%
			menuitem++;
		}
	}
%>
<% } %>

<% if (myrequest.getParameter("section").equals("Scripts")) { %>
<%
	while (scripts.records(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig, "")) {
		String id = scripts.getId();
		String title = scripts.getTitle();
		String version = scripts.getVersion();
		String device = scripts.getDevice();
		String usersegment = scripts.getUsersegment();
		String usertest = scripts.getUsertest();
		String url = "";
		if (! scripts.getServerFilename().equals("")) {
			url = "" + myconfig.get(db, "URLrootpath") + scripts.getServerFilename();
		} else {
			url = "/script.jsp?id=" + scripts.getId();
		}
		if (! version.equals("")) {
			version = " (" + version + ")";
		}
		if (! device.equals("")) {
			version += " (" + device + ")";
		}
		if (! usersegment.equals("")) {
			version += " (" + usersegment + ")";
		}
		if (! usertest.equals("")) {
			version += " (" + usertest + ")";
		}
		if (! id.equals("")) {
			version += " (" + id + ")";
		}
		String classname = "node";
//		if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup) + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup).replaceAll("\\+", " ") + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + imagegroup + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		}
		if (! myconfig.get(db, "hide_accessrestricted_content_items").equals("yes")) {
			scripts.setUser(true);
		}
		if ((myconfig.get(db, "hide_accessrestricted_menu_items").equals("yes")) && (myconfig.get(db, "hide_accessrestricted_menu_items_content").equals("yes"))) {
			if (! scripts.getContentGroup().equals("")) {
				Contentgroup mycontentgroup = new Contentgroup();
				mycontentgroup.readContentgroup(db, scripts.getContentGroup());
				if (! mycontentgroup.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					scripts.setUser(false);
				}
			}
			if (! scripts.getContentType().equals("")) {
				Contenttype mycontenttype = new Contenttype();
				mycontenttype.readContenttype(db, scripts.getContentType());
				if (! mycontenttype.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					scripts.setUser(false);
				}
			}
		}
		if (mysession.get("username").equals(myconfig.get(db, "superadmin"))) {
			scripts.setUser(true);
		}
		if (scripts.getUser()) {
			output.append("<nobr><img alt=\"\" src=\"/" + mytext.display("adminpath") + "/dtree/join.gif\"><a href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\"><img alt=\"\" id=\"selectorlistMenuIcon" + menuitem + "\" src=\"/" + mytext.display("adminpath") + "/dtree/page.gif\"></a><a id=\"selectorlistMenuLink" + menuitem + "\" class=\"" + classname + "\" href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\">" + title + version + "</a><br></nobr>" + "\r\n");
			%><%= "<script>selectorlistMenu.pid[" + menuitem + "] = menuitem_links;</script>" + "\r\n" %><%
			menuitem++;
		}
	}
%>
<% } %>

<% if (myrequest.getParameter("section").equals("Pages")) { %>
<%
	while (pages.records(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig, "")) {
		String id = pages.getId();
		String title = pages.getTitle();
		String version = pages.getVersion();
		String device = pages.getDevice();
		String usersegment = pages.getUsersegment();
		String usertest = pages.getUsertest();
		String url = "";
		if (! pages.getServerFilename().equals("")) {
			url = "" + myconfig.get(db, "URLrootpath") + pages.getServerFilename();
		} else {
			url = "/page.jsp?id=" + pages.getId();
		}
		if (! version.equals("")) {
			version = " (" + version + ")";
		}
		if (! device.equals("")) {
			version += " (" + device + ")";
		}
		if (! usersegment.equals("")) {
			version += " (" + usersegment + ")";
		}
		if (! usertest.equals("")) {
			version += " (" + usertest + ")";
		}
		if (! id.equals("")) {
			version += " (" + id + ")";
		}
		String classname = "node";
//		if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup) + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup).replaceAll("\\+", " ") + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + imagegroup + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		}
		if (! myconfig.get(db, "hide_accessrestricted_content_items").equals("yes")) {
			pages.setUser(true);
		}
		if ((myconfig.get(db, "hide_accessrestricted_menu_items").equals("yes")) && (myconfig.get(db, "hide_accessrestricted_menu_items_content").equals("yes"))) {
			if (! pages.getContentGroup().equals("")) {
				Contentgroup mycontentgroup = new Contentgroup();
				mycontentgroup.readContentgroup(db, pages.getContentGroup());
				if (! mycontentgroup.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					pages.setUser(false);
				}
			}
			if (! pages.getContentType().equals("")) {
				Contenttype mycontenttype = new Contenttype();
				mycontenttype.readContenttype(db, pages.getContentType());
				if (! mycontenttype.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					pages.setUser(false);
				}
			}
		}
		if (mysession.get("username").equals(myconfig.get(db, "superadmin"))) {
			pages.setUser(true);
		}
		if (pages.getUser()) {
			output.append("<nobr><img alt=\"\" src=\"/" + mytext.display("adminpath") + "/dtree/join.gif\"><a href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\"><img alt=\"\" id=\"selectorlistMenuIcon" + menuitem + "\" src=\"/" + mytext.display("adminpath") + "/dtree/page.gif\"></a><a id=\"selectorlistMenuLink" + menuitem + "\" class=\"" + classname + "\" href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\">" + title + version + "</a><br></nobr>" + "\r\n");
			%><%= "<script>selectorlistMenu.pid[" + menuitem + "] = menuitem_links;</script>" + "\r\n" %><%
			menuitem++;
		}
	}
%>
<% } %>

<% if (myrequest.getParameter("section").equals("Elements")) { %>
<%
	while (elements.records(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig, "")) {
		String id = elements.getId();
		String title = elements.getTitle();
		String version = elements.getVersion();
		String device = elements.getDevice();
		String usersegment = elements.getUsersegment();
		String usertest = elements.getUsertest();
		String url = "";
		if (! elements.getServerFilename().equals("")) {
			url = "" + myconfig.get(db, "URLrootpath") + elements.getServerFilename();
		} else {
			url = "/element.jsp?id=" + elements.getId();
		}
		if (! version.equals("")) {
			version = " (" + version + ")";
		}
		if (! device.equals("")) {
			version += " (" + device + ")";
		}
		if (! usersegment.equals("")) {
			version += " (" + usersegment + ")";
		}
		if (! usertest.equals("")) {
			version += " (" + usertest + ")";
		}
		if (! id.equals("")) {
			version += " (" + id + ")";
		}
		String classname = "node";
//		if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup) + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup).replaceAll("\\+", " ") + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + imagegroup + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		}
		if (! myconfig.get(db, "hide_accessrestricted_content_items").equals("yes")) {
			elements.setUser(true);
		}
		if ((myconfig.get(db, "hide_accessrestricted_menu_items").equals("yes")) && (myconfig.get(db, "hide_accessrestricted_menu_items_content").equals("yes"))) {
			if (! elements.getContentGroup().equals("")) {
				Contentgroup mycontentgroup = new Contentgroup();
				mycontentgroup.readContentgroup(db, elements.getContentGroup());
				if (! mycontentgroup.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					elements.setUser(false);
				}
			}
			if (! elements.getContentType().equals("")) {
				Contenttype mycontenttype = new Contenttype();
				mycontenttype.readContenttype(db, elements.getContentType());
				if (! mycontenttype.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					elements.setUser(false);
				}
			}
		}
		if (mysession.get("username").equals(myconfig.get(db, "superadmin"))) {
			elements.setUser(true);
		}
		if (elements.getUser()) {
			output.append("<nobr><img alt=\"\" src=\"/" + mytext.display("adminpath") + "/dtree/join.gif\"><a href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\"><img alt=\"\" id=\"selectorlistMenuIcon" + menuitem + "\" src=\"/" + mytext.display("adminpath") + "/dtree/page.gif\"></a><a id=\"selectorlistMenuLink" + menuitem + "\" class=\"" + classname + "\" href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\">" + title + version + "</a><br></nobr>" + "\r\n");
			%><%= "<script>selectorlistMenu.pid[" + menuitem + "] = menuitem_links;</script>" + "\r\n" %><%
			menuitem++;
		}
	}
%>
<% } %>

<% if (myrequest.getParameter("section").equals("Images")) { %>
<%
	while (images.records(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig, "")) {
		String id = images.getId();
		String title = images.getTitle();
		String version = images.getVersion();
		String device = images.getDevice();
		String usersegment = images.getUsersegment();
		String usertest = images.getUsertest();
		String url = "";
		if ((myconfig.get(db, "hardcore_image_hrefs").equals("direct")) && (! images.getServerFilename().equals(""))) {
			url = "" + myconfig.get(db, "URLrootpath") + images.getServerFilename();
		} else {
			url = "/image.jsp?id=" + images.getId();
		}
		if (! version.equals("")) {
			version = " (" + version + ")";
		}
		if (! device.equals("")) {
			version += " (" + device + ")";
		}
		if (! usersegment.equals("")) {
			version += " (" + usersegment + ")";
		}
		if (! usertest.equals("")) {
			version += " (" + usertest + ")";
		}
		if (! id.equals("")) {
			version += " (" + id + ")";
		}
		String classname = "node";
//		if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup) + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup).replaceAll("\\+", " ") + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + imagegroup + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		}
		if (! myconfig.get(db, "hide_accessrestricted_content_items").equals("yes")) {
			images.setUser(true);
		}
		if ((myconfig.get(db, "hide_accessrestricted_menu_items").equals("yes")) && (myconfig.get(db, "hide_accessrestricted_menu_items_content").equals("yes"))) {
			if (! images.getContentGroup().equals("")) {
				Imagegroup mycontentgroup = new Imagegroup();
				mycontentgroup.readImagegroup(db, images.getContentGroup());
				if (! mycontentgroup.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					images.setUser(false);
				}
			}
			if (! images.getContentType().equals("")) {
				Imagetype mycontenttype = new Imagetype();
				mycontenttype.readImagetype(db, images.getContentType());
				if (! mycontenttype.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					images.setUser(false);
				}
			}
		}
		if (mysession.get("username").equals(myconfig.get(db, "superadmin"))) {
			images.setUser(true);
		}
		if (images.getUser()) {
			output.append("<nobr><img alt=\"\" src=\"/" + mytext.display("adminpath") + "/dtree/join.gif\"><a href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\"><img alt=\"\" id=\"selectorlistMenuIcon" + menuitem + "\" src=\"/" + mytext.display("adminpath") + "/dtree/page.gif\"></a><a id=\"selectorlistMenuLink" + menuitem + "\" class=\"" + classname + "\" href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\">" + title + version + "</a><br></nobr>" + "\r\n");
			%><%= "<script>selectorlistMenu.pid[" + menuitem + "] = menuitem_links;</script>" + "\r\n" %><%
			menuitem++;
		}
	}
%>
<% } %>

<% if (myrequest.getParameter("section").equals("Files")) { %>
<%
	while (files.records(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig, "")) {
		String id = files.getId();
		String title = files.getTitle();
		String version = files.getVersion();
		String device = files.getDevice();
		String usersegment = files.getUsersegment();
		String usertest = files.getUsertest();
		String url = "";
		if ((myconfig.get(db, "hardcore_file_hrefs").equals("direct")) && (! files.getServerFilename().equals(""))) {
			url = "" + myconfig.get(db, "URLrootpath") + files.getServerFilename();
		} else {
			url = "/file.jsp?id=" + files.getId();
		}
		if (! version.equals("")) {
			version = " (" + version + ")";
		}
		if (! device.equals("")) {
			version += " (" + device + ")";
		}
		if (! usersegment.equals("")) {
			version += " (" + usersegment + ")";
		}
		if (! usertest.equals("")) {
			version += " (" + usertest + ")";
		}
		if (! id.equals("")) {
			version += " (" + id + ")";
		}
		String classname = "node";
//		if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup) + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup).replaceAll("\\+", " ") + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + imagegroup + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		}
		if (! myconfig.get(db, "hide_accessrestricted_content_items").equals("yes")) {
			files.setUser(true);
		}
		if ((myconfig.get(db, "hide_accessrestricted_menu_items").equals("yes")) && (myconfig.get(db, "hide_accessrestricted_menu_items_content").equals("yes"))) {
			if (! files.getContentGroup().equals("")) {
				Filegroup mycontentgroup = new Filegroup();
				mycontentgroup.readFilegroup(db, files.getContentGroup());
				if (! mycontentgroup.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					files.setUser(false);
				}
			}
			if (! files.getContentType().equals("")) {
				Filetype mycontenttype = new Filetype();
				mycontenttype.readFiletype(db, files.getContentType());
				if (! mycontenttype.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					files.setUser(false);
				}
			}
		}
		if (mysession.get("username").equals(myconfig.get(db, "superadmin"))) {
			files.setUser(true);
		}
		if (files.getUser()) {
			output.append("<nobr><img alt=\"\" src=\"/" + mytext.display("adminpath") + "/dtree/join.gif\"><a href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\"><img alt=\"\" id=\"selectorlistMenuIcon" + menuitem + "\" src=\"/" + mytext.display("adminpath") + "/dtree/page.gif\"></a><a id=\"selectorlistMenuLink" + menuitem + "\" class=\"" + classname + "\" href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\">" + title + version + "</a><br></nobr>" + "\r\n");
			%><%= "<script>selectorlistMenu.pid[" + menuitem + "] = menuitem_links;</script>" + "\r\n" %><%
			menuitem++;
		}
	}
%>
<% } %>

<% if (myrequest.getParameter("section").equals("Links")) { %>
<%
	while (links.records(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig, "")) {
		String id = links.getId();
		String title = links.getTitle();
		String version = links.getVersion();
		String device = links.getDevice();
		String usersegment = links.getUsersegment();
		String usertest = links.getUsertest();
		String url = "";
		if ((myconfig.get(db, "hardcore_link_hrefs").equals("direct")) && (! links.getUrl().equals(""))) {
			url = "" + links.getUrl();
		} else {
			url = "/link.jsp?id=" + links.getId();
		}
		if (! version.equals("")) {
			version = " (" + version + ")";
		}
		if (! device.equals("")) {
			version += " (" + device + ")";
		}
		if (! usersegment.equals("")) {
			version += " (" + usersegment + ")";
		}
		if (! usertest.equals("")) {
			version += " (" + usertest + ")";
		}
		if (! id.equals("")) {
			version += " (" + id + ")";
		}
		String classname = "node";
//		if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup) + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup).replaceAll("\\+", " ") + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + imagegroup + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		}
		if (! myconfig.get(db, "hide_accessrestricted_content_items").equals("yes")) {
			links.setUser(true);
		}
		if ((myconfig.get(db, "hide_accessrestricted_menu_items").equals("yes")) && (myconfig.get(db, "hide_accessrestricted_menu_items_content").equals("yes"))) {
			if (! links.getContentGroup().equals("")) {
				Linkgroup mycontentgroup = new Linkgroup();
				mycontentgroup.readLinkgroup(db, links.getContentGroup());
				if (! mycontentgroup.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					links.setUser(false);
				}
			}
			if (! links.getContentType().equals("")) {
				Linktype mycontenttype = new Linktype();
				mycontenttype.readLinktype(db, links.getContentType());
				if (! mycontenttype.getAccessRestrictions(mysession.get("administrator"), mysession.get("userid"), mysession.get("username"), mysession.get("usertype"), mysession.get("usergroup"), mysession.get("usertypes"), mysession.get("usergroups"), db, myconfig)) {
					links.setUser(false);
				}
			}
		}
		if (mysession.get("username").equals(myconfig.get(db, "superadmin"))) {
			links.setUser(true);
		}
		if (links.getUser()) {
			output.append("<nobr><img alt=\"\" src=\"/" + mytext.display("adminpath") + "/dtree/join.gif\"><a href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\"><img alt=\"\" id=\"selectorlistMenuIcon" + menuitem + "\" src=\"/" + mytext.display("adminpath") + "/dtree/page.gif\"></a><a id=\"selectorlistMenuLink" + menuitem + "\" class=\"" + classname + "\" href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\">" + title + version + "</a><br></nobr>" + "\r\n");
			%><%= "<script>selectorlistMenu.pid[" + menuitem + "] = menuitem_links;</script>" + "\r\n" %><%
			menuitem++;
		}
	}
%>
<% } %>

<% if (myrequest.getParameter("section").equals("Users")) { %>
<%
	while (users.records("", "", "", "", "", db, myconfig, "")) {
		String id = users.getId();
		String title = users.getUsername();
		String version = "";
		String url = "#";
		String classname = "node";
//		if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup) + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + URLEncoder.encode(imagegroup).replaceAll("\\+", " ") + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		} else if (selected.equals("/" + mytext.display("adminpath") + "/content/index.jsp?contentpackage= &contentclass=image&contentgroup=" + imagegroup + "&contenttype= &status= &version= &")) {
//			classname = "nodeSel";
//		}
		output.append("<nobr><img alt=\"\" src=\"/" + mytext.display("adminpath") + "/dtree/join.gif\"><a href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\"><img alt=\"\" id=\"selectorlistMenuIcon" + menuitem + "\" src=\"/" + mytext.display("adminpath") + "/dtree/page.gif\"></a><a id=\"selectorlistMenuLink" + menuitem + "\" class=\"" + classname + "\" href=\"javascript:openit('" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "', '" + url + "', '" + id + "', '', '', true, '')\" onclick=\"selectorlistMenu.select('selectorlistMenu','" + menuitem + "','javascript:openit(\\'" + title.replaceAll("\\\\", "\\\\\\\\").replaceAll("'", "\\\\\\\\\\\\'").replaceAll("\"", "%22") + "\\', \\'" + url + "\\', \\'" + id + "\\', \\'\\', \\'\\', true, \\'\\')')\">" + title + version + "</a><br></nobr>" + "\r\n");
		%><%= "<script>selectorlistMenu.pid[" + menuitem + "] = menuitem_links;</script>" + "\r\n" %><%
		menuitem++;
	}
%>
<% } %>
<%= "" + output %>
</div>
</body>
</html>
